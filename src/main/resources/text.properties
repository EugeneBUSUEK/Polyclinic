query.select.user.by.login = SELECT * FROM users WHERE username = ?
query.select.user.list = SELECT username, name, role, blocked, case when sessions.expired_at > CURRENT_TIMESTAMP AND blocked = 0 then 'online' else 'offline' end as status from users join sessions on users.id = sessions.user_id
#query.select.user.list = SELECT username, name, role, case when blocked = 0 then 'unblocked' else 'blocked' end as blocked, case when sessions.expired_at > CURRENT_TIMESTAMP AND blocked = 0 then 'online' else 'offline' end as status from users join sessions on users.id = sessions.user_id
#query.update.user =
query.block.user = UPDATE users SET blocked = ? WHERE username = ?
query.update.user.sessions = UPDATE sessions SET expired_at = CURRENT_TIMESTAMP + interval '1' day WHERE user_id = (SELECT id FROM users WHERE username = ?)
query.insert.user.sessions = INSERT INTO sessions (user_id) VALUES (?)
query.delete.user.sessions = DELETE FROM sessions WHERE user_id = ?